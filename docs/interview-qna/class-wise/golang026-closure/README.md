# ржХрзНрж▓рж╛рж╕ рзирзм: ржХрзНрж▓рзЛржЬрж╛рж░ ржПржмржВ Go ржПрж░ ржЕржнрзНржпржирзНрждрж░рзАржг ржорзЗржорзЛрж░рж┐ ржЧржнрзАрж░ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ЁЯТб

ржПржЗ ржХрзНрж▓рж╛рж╕рзЗ ржЖржорж░рж╛ closure, escape analysis ржирж┐рзЯрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржкрзЬрж╛рж╢рзБржирж╛ ржХрж░ржм ржПржмржВ ржЕржнрзНржпржирзНрждрж░рзАржг ржорзЗржорж░рж┐ ржХрж┐ржнрж╛ржмрзЗ ржорзЗржирзЗржЬ ржХрж░рж╛ рж╣рзЯ рждрж╛ ржЬрж╛ржиржм! ЁЯзаЁЯФе

---

## ЁЯУЛ ржХрзНрж▓рж╛рж╕ рзирзм ржПрж░ ржХрзЛржб:

```go
package main

import "fmt"

const a = 10
var p = 100

//Closure
func outer(money int) func() {
	age := 30
	fmt.Println("Age =", age)

	show := func() {
		money = money + a + p
		fmt.Println(money)
	}

	return show
}

func call() {
	incr1 := outer(100)
	incr1() // money = 100 + 10 + 100 = 210
	incr1() // money = 210 + 10 + 100 = 320

	incr2 := outer(100)
	incr2()
	incr2()
}

func main() {
	call()
}

func init() {
	fmt.Println("=== Bank ===")
}
```

---

## ЁЯФН ржорзВрж▓ ржмрж┐рж╖рзЯржмрж╕рзНрждрзБ

### ЁЯФТржХрзНрж▓рзЛржЬрж╛рж░ (Closure) ржХрзА?

**ржХрзНрж▓рзЛржЬрж╛рж░** ржПржоржи ржПржХржЯрж┐ ржлрж╛ржВрж╢ржи ржпрж╛ рждрж╛рж░ ржирж┐ржЬрж╕рзНржм рж╕рзНржХрзЛржкрзЗрж░ ржмрж╛ржЗрж░рзЗрж░ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ржЧрзБрж▓рзЛрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ рж╕рзНржерж╛ржкржи ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЗ ржХрзНрж╖рзЗрждрзНрж░рзЗ:

```go
show := func() {
    money = money + a + p
    fmt.Println(money)
}
```

`show` ржлрж╛ржВрж╢ржиржЯрж┐ `outer()` ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░рзЗрж░ `money` ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ржЯрж┐ ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржорж╛ржзрзНржпржорзЗ ржПржХржЯрж┐ ржХрзНрж▓рзЛржЬрж╛рж░ рждрзИрж░рж┐ ржХрж░рзЗред

### ЁЯза ржХрзНрж▓рзЛржЬрж╛рж░ ржХрзЗржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг?

ржХрзНрж▓рзЛржЬрж╛рж░ ржпрзБржХрзНрждрж┐ ржУ ржЕржмрж╕рзНржерж╛ржХрзЗ ржПржХрж╕рж╛ржерзЗ ржзрж░рзЗ рж░рж╛ржЦрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПржЬржирзНржп `incr1()` ржПржмржВ `incr2()` ржПржХржЗ ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗржУ ржЖрж▓рж╛ржжрж╛ `money` ржорж╛ржи ржзрж░рзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗред

### ЁЯзо рж╕рзНржЯрзНржпрж╛ржХ ржмржирж╛ржо рж╣рж┐ржк

**рж╕рзНржЯрзНржпрж╛ржХ**: ржжрзНрж░рзБржд ржорзЗржорзЛрж░рж┐, ржлрж╛ржВрж╢ржи ржХрж▓ ржПржмржВ рж▓рзЛржХрж╛рж▓ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓рзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

**рж╣рж┐ржк**: ржпржЦржи ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ ржлрж╛ржВрж╢ржи ржХрж▓рзЗрж░ ржкрж░рзЗржУ ржерж╛ржХрж╛ ржжрж░ржХрж╛рж░ (ржпрзЗржоржи ржХрзНрж▓рзЛржЬрж╛рж░рзЗ), рждржЦржи ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред

`money` ржлрж╛ржВрж╢ржи `outer()` рж╢рзЗрж╖ рж╣ржУржпрж╝рж╛рж░ ржкрж░ржУ ржерж╛ржХрждрзЗ рж╣ржмрзЗ, рждрж╛ржЗ ржПрж╕рзНржХрзЗржк ржЕрзНржпрж╛ржирж╛рж▓рж╛ржЗрж╕рж┐рж╕ ржПржЯрж╛ ржмрзБржЭрзЗ `money` рж╣рж┐ржкрзЗ рж░рж╛ржЦрзЗред

### ЁЯзк ржПрж╕рзНржХрзЗржк ржЕрзНржпрж╛ржирж╛рж▓рж╛ржЗрж╕рж┐рж╕ (Escape Analysis) ржХрзА?

**ржПрж╕рзНржХрзЗржк ржЕрзНржпрж╛ржирж╛рж▓рж╛ржЗрж╕рж┐рж╕** рж╣рж▓рзЛ ржПржХржЯрж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ ржпрж╛рж░ ржорж╛ржзрзНржпржорзЗ **Go ржХржорзНржкрж╛ржЗрж▓рж╛рж░** ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ **ржХржорзНржкрж╛ржЗрж▓ ржХрж░рж╛рж░ рж╕ржоржпрж╝** ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржХрзЛржи ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ рж╕рзНржЯрзНржпрж╛ржХрзЗ ржирж┐рж░рж╛ржкржжрзЗ рж░рж╛ржЦрж╛ ржпрж╛ржмрзЗ ржЖрж░ ржХрзЛржиржЧрзБрж▓рзЛ рж╣рж┐ржкрзЗ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗред

- тЬЕ ржпржжрж┐ ржХрзЛржирзЛ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ **рж╢рзБржзрзБржорж╛рждрзНрж░ ржлрж╛ржВрж╢ржирзЗрж░ ржнрзЗрждрж░** ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж┐ **рж╕рзНржЯрзНржпрж╛ржХрзЗ** рж░рж╛ржЦрж╛ рж╣ржпрж╝ред
- ЁЯЪА ржпржжрж┐ ржХрзЛржирзЛ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ **ржлрж╛ржВрж╢ржирзЗрж░ ржмрж╛ржЗрж░рзЗ (ржпрзЗржоржи ржПржХржЯрж┐ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рж╛ ржХрзНрж▓рзЛржЬрж╛рж░рзЗ)** ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ рж╕рзЗржЯрж┐ рж╣рж┐ржкрзЗ рж╕рзНржерж╛ржирж╛ржирзНрждрж░рж┐ржд рж╣ржпрж╝ред

### ЁЯз▒ ржорзЗржорзЛрж░рж┐ рж╕рзЗржЧржорзЗржирзНржЯ

| рж╕рзЗржЧржорзЗржирзНржЯ      | ржХрзА рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ                                       |
| ------------- | ---------------------------------------------------- |
| ржХрзЛржб рж╕рзЗржЧржорзЗржирзНржЯ  | ржХржорзНржкрж╛ржЗрж▓ ржХрж░рж╛ ржирж┐рж░рзНржжрзЗрж╢рж╛ржмрж▓рзА ржПржмржВ ржХржирж╕рзНржЯрзНржпрж╛ржирзНржЯ (ржлрж╛ржВрж╢ржи, `a`) |
| ржбрзЗржЯрж╛ рж╕рзЗржЧржорзЗржирзНржЯ | ржЧрзНрж▓рзЛржмрж╛рж▓ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ (`p`)                              |
| рж╕рзНржЯрзНржпрж╛ржХ       | рж▓рзЛржХрж╛рж▓ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ (`age`)                              |
| рж╣рж┐ржк           | ржПрж╕рзНржХрзЗржкрж┐ржВ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ (`money`)                         |

---

## ЁЯза ржнрж┐ржЬрзНржпрзБржпрж╝рж╛рж▓рж╛ржЗржЬрзЗрж╢ржи

### CLI-рж╕рзНржЯрж╛ржЗрж▓ ржорзЗржорзЛрж░рж┐ ржмрж┐ржирзНржпрж╛рж╕

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ       ржХрзЛржб рж╕рзЗржЧржорзЗржирзНржЯ         тФВ
тФВ-----------------------------тФВ
тФВ const a = 10,               |
| main, call, init, outer,    тФВ
тФВ anonymous show function     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
          тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ        ржбрзЗржЯрж╛ рж╕рзЗржЧржорзЗржирзНржЯ            тФВ
тФВ-----------------------------тФВ
тФВ var p = 100                 тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
          тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ            рж╕рзНржЯрзНржпрж╛ржХ              тФВ
тФВ-----------------------------тФВ
тФВ outer() frame               тФВ
тФВ   age = 30                  тФВ
тФВ   return address            тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
          тЖУ
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ            рж╣рж┐ржк             тФВ
тФВ-----------------------------тФВ
тФВ money = 100 (for incr1)     тФВ
тФВ money = 100 (for incr2)     тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

ржкрзНрж░рждрж┐ржЯрж┐ ржХрзНрж▓рзЛржЬрж╛рж░рзЗрж░ ржЬржирзНржп рж╣рж┐ржкрзЗ ржирж┐ржЬрж╕рзНржм `money` ржерж╛ржХрзЗред ржкрзНрж░рждрж┐ржмрж╛рж░ `outer(100)` ржХрж▓ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржПржХржЯрж┐ ржирждрзБржи ржорзЗржорзЛрж░рж┐ ржмрзНрж▓ржХ ржЕрзНржпрж╛рж▓рзЛржХрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝ред

### ржЧрж╛рж░ржмрзЗржЬ ржХрж╛рж▓рзЗржХрзНржЯрж░рзЗрж░ ржнрзВржорж┐ржХрж╛ ЁЯз╣

ржпржЦржи ржХрзЛржирзЛ ржХрзНрж▓рзЛржЬрж╛рж░ ржЖрж░ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░рж╛ рж╣ржпрж╝ ржирж╛ (ржпрзЗржоржи `incr1` ржмрж╛ `incr2` рж╕рзНржХрзЛржкрзЗрж░ ржмрж╛ржЗрж░рзЗ ржЪрж▓рзЗ ржпрж╛ржпрж╝), рждржЦржи `ржЧрж╛рж░ржмрзЗржЬ ржХрж╛рж▓рзЗржХрзНржЯрж░` рж╕рзЗржЗ рж╣рж┐ржк ржорзЗржорзЛрж░рж┐ (ржпрзЗржоржи `money`) ржорзБржЫрзЗ ржлрзЗрж▓рзЗ, ржпрж╛рждрзЗ ржЕржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржорзЗржорзЛрж░рж┐ ржжржЦрж▓ ржирж╛ ржерж╛ржХрзЗред ржЕржирзЗржХ ржХрзНрж▓рзЛржЬрж╛рж░ ржерж╛ржХрж▓рзЗ ржХрж░рзНржоржжржХрзНрж╖рждрж╛ ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрждрзЗ ржПржЯрж╛ ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред

GC рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЯрзНрж░рж┐ржЧрж╛рж░ рж╣ржпрж╝ ржПржмржВ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзЗрж░ рж╕рж╛ржерзЗ ржПржХржпрзЛржЧрзЗ ржЪрж▓рзЗред ржПржЯрж┐ ржХрж╛рж░рзНржпржХрж░ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЬржирзНржп **mark-and-sweep** ржПржмржВ **concurrent garbage collection techniques** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

---

## ЁЯза рж╕ржВржХрзНрж╖рзЗржкрзЗ

- ржХрзНрж▓рзЛржЬрж╛рж░ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓рзЗрж░ ржЕржмрж╕рзНржерж╛ ржзрж░рзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗ ЁЯФБ
- ржПрж╕рзНржХрзЗржк ржЕрзНржпрж╛ржирж╛рж▓рж╛ржЗрж╕рж┐рж╕ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ ржХрзЛржи ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ рж╣рж┐ржкрзЗ рж░рж╛ржЦрж╛ ржкрзНрж░ржпрж╝рзЛржЬржи ЁЯУж
- рж╕рзНржЯрзНржпрж╛ржХ рж╕рж╛ржоржпрж╝рж┐ржХ, рж╣рж┐ржк рж╕рзНржерж╛ржпрж╝рзА (GC ЁЯз╣ ржПрж░ рж╕рж╛ржерзЗ)
- Go ржорзЗржорзЛрж░рж┐ ржЪрж╛рж░ржЯрж┐ ржнрж╛ржЧрзЗ ржнрж╛ржЧ ржХрж░рзЗ: ржХрзЛржб, ржбрзЗржЯрж╛, рж╕рзНржЯрзНржпрж╛ржХ, рж╣рзАржк ЁЯзй
- GC ржЕржкрзНрж░ржЪрж▓рж┐ржд рж╣рзАржк ржорзЗржорзЛрж░рж┐ ржкрзБржирж░рзНржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп ржХрж░рзЗ рждрзЛрж▓рзЗ тЩ╗я╕П

---

[**Author:** @ifrunruhin12, @nazma98
**Date:** 2025-05-01 - 2025-05-17
**Category:** interview-qa/class-wise
]
